<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A fluent API for accessing multi-assay high-throughput genomics data • FacileData</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="A fluent API for accessing multi-assay high-throughput genomics data">
<meta property="og:description" content='Defines the "FacileData" API over multi-assay, high-throughput
  genomics data. The FacileData API is a fluent grammar that facilitates
  exploratory data analysis. This package also defines a "FacileDataSet" class,
  which is a reference implementation of the "FacileData" API that uses SQLite
  and HDF5 files to store arbitrarily large datasets and provide fast and
  efficient access to arbitrary subsets of these data without loading it all
  into memory.'>
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">FacileData</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.11.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/FacileData.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/FacileDataSet-architecture.html">FacileDataSet Architecture</a>
    </li>
    <li>
      <a href="articles/FacileDataSet-assembly.html">FacileDataSet Assembly</a>
    </li>
    <li>
      <a href="articles/FacileDataSet.html">FacileDataSet Overview</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/facilebio/FacileData">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="faciledata" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#faciledata" class="anchor"></a>FacileData</h1></div>
<!-- 
badges: start
checkout https://lazappi.github.io/clustree/ package for some badge-inspiration

[![Travis build status](https://travis-ci.org/facilebio/FacileData.svg?branch=master)](https://travis-ci.org/facilebio/FacileData)
[![Codecov test coverage](https://codecov.io/gh/facilebio/FacileData/branch/master/graph/badge.svg)](https://codecov.io/gh/facilebio/FacileData?branch=master)

-->

<p>The <code>FacileData</code> package was written to facilitate easier analysis of large, multi-assay high-throughput genomics datasets. To this end, the <code>FacileData</code> package provides two things:</p>
<ol>
<li>A <em>FacileData Access API</em> that defines a fluent interface over multi-assay genomics datasets that fits into the <a href="https://www.tidyverse.org/">tidyverse</a>. This enables analysts to more naturally query and retrieve data for general exploratory data analysis; and</li>
<li>A reference implementation of a datastore that implements the <em>FacileData Access API</em> called a <em>FacileDataSet</em>. The <code>FacileDataSet</code> provides efficient storage and retrieval of arbitrarily large high-throughput genomics datasets. For example, a single <code>FacileDataSet</code> can be used to store <em>all</em> of the RNA-seq, microarray, RPPA, etc. data from the <a href="https://cancergenome.nih.gov/">The Cancer Genome Atlas</a>. This singular <code>FacileDataSet</code> allows analysts easy access to arbitrary subsets of these data without having to load all of it into memory.</li>
</ol>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<p>The FacileData suite of packages is only available from github from now. You will want to install three <code>FacileData*</code> packages to appreciate the its utility:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># install.packages("devtools")</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>devtools<span class="op">::</span><span class="kw"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"facilebio/FacileData"</span>)</span></code></pre></div>
</div>
<div id="example-usage" class="section level1">
<h1 class="hasAnchor">
<a href="#example-usage" class="anchor"></a>Example Usage</h1>
<p>As a teaser, we’ll show how to plot HER2 copy number vs expression across the TCGA bladder and breast indications (“BLCA” and “BRCA”) using a <code>FacileDataSet</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(FacileData)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(FacileTCGADataSet)</span>
<span id="cb2-4"><a href="#cb2-4"></a>tcga &lt;-<span class="st"> </span><span class="kw">FacileTCGADataSet</span>()</span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a>features &lt;-<span class="st"> </span><span class="kw">filter_features</span>(tcga, name <span class="op">==</span><span class="st"> "ERBB2"</span>)</span>
<span id="cb2-7"><a href="#cb2-7"></a></span>
<span id="cb2-8"><a href="#cb2-8"></a>fdat &lt;-<span class="st"> </span>tcga <span class="op">%&gt;%</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="st">  </span><span class="kw">filter_samples</span>(indication <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"BLCA"</span>, <span class="st">"BRCA"</span>)) <span class="op">%&gt;%</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="st">  </span><span class="kw">with_assay_data</span>(features, <span class="dt">assay_name =</span> <span class="st">"rnaseq"</span>, <span class="dt">normalized =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="st">  </span><span class="kw">with_assay_data</span>(features, <span class="dt">assay_name =</span> <span class="st">"cnv_score"</span>) <span class="op">%&gt;%</span></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="st">  </span><span class="kw"><a href="reference/sample-covariates.html">with_sample_covariates</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"indication"</span>, <span class="st">"sex"</span>))</span>
<span id="cb2-13"><a href="#cb2-13"></a></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(fdat, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(cnv_score_ERBB2, ERBB2, <span class="dt">color =</span> sex)) <span class="op">+</span></span>
<span id="cb2-15"><a href="#cb2-15"></a><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>() <span class="op">+</span></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span><span class="st"> </span>indication)</span></code></pre></div>
<p><img src="reference/figures/her2_cnv_vs_expression.png" width="66%"></p>
<p>Let’s compare how you might do the same using data stored in a <code>SummarizedExperiment</code> named <code>se.tcga</code> that stores RNA-seq (raw and normalized) and copy number data.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># load / get `se.all` from somewhere</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>fidx &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/which.html">which</a></span>(<span class="kw">mcols</span>(se.all)<span class="op">$</span>name <span class="op">==</span><span class="st"> "ERBB2"</span>)</span>
<span id="cb3-3"><a href="#cb3-3"></a>se &lt;-<span class="st"> </span>se.all[, se.all<span class="op">$</span>indication <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"BLCA"</span>, <span class="st">"BRCA"</span>)]</span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a>sdat &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(</span>
<span id="cb3-6"><a href="#cb3-6"></a>  <span class="dt">ERBB2 =</span> <span class="kw">assay</span>(se, <span class="st">"rnaseq_norm"</span>)[fidx,],</span>
<span id="cb3-7"><a href="#cb3-7"></a>  <span class="dt">cnv_score_ERBB2 =</span> <span class="kw">assay</span>(se, <span class="st">"cnv_score"</span>)[fidx,],</span>
<span id="cb3-8"><a href="#cb3-8"></a>  <span class="dt">sex =</span> se<span class="op">$</span>sex,</span>
<span id="cb3-9"><a href="#cb3-9"></a>  <span class="dt">indication =</span> se<span class="op">$</span>indication)</span>
<span id="cb3-10"><a href="#cb3-10"></a></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(fdat, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(cnv_score_ERBB2, ERBB2, <span class="dt">color=</span>sex)) <span class="op">+</span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>() <span class="op">+</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="st">  </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span><span class="st"> </span>indication)</span></code></pre></div>
<p>TODO: Show same analysis using MultiAssayEperiment</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/facilebio/FacileData">https://​github.com/​facilebio/​FacileData</a>
</li>
<li>Report a bug at <br><a href="https://github.com/facilebio/FacileData/issues">https://​github.com/​facilebio/​FacileData/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Steve Lianoglou <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-0924-1754" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID"></a> </li>
<li>Vincent Rouilly <br><small class="roles"> Author </small>  </li>
<li>Peter Haverty <br><small class="roles"> Author </small>  </li>
<li>Denali Therapeutics <br><small class="roles"> Copyright holder, funder </small>  <br><small>(Coypright 2019)</small>
</li>
<li>Genentech <br><small class="roles"> Copyright holder, funder </small>  <br><small>(Coypright 2016 - 2018)</small>
</li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="http://www.repostatus.org/#active"><img src="http://www.repostatus.org/badges/latest/active.svg" alt="Project Status"></a></li>
<li><a href="https://travis-ci.org/facilebio/FacileData"><img src="https://travis-ci.org/facilebio/FacileData.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: Maturing"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Steve Lianoglou, Vincent Rouilly, Peter Haverty, Denali Therapeutics, Genentech.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
